/* ParallelAction.h
 * 
 *  Author          : Alexander J. Yee
 *  Date Created    : 08/27/2014
 *  Last Modified   : 08/23/2024
 * 
 *      ParallelAction represents a work unit in a parallel computing context.
 * 
 *  This class is intended to use in fork-join parallelism. It is allowed to
 *  throw exceptions which are passed though upon join.
 * 
 *  The "ParallelContext" struct holds information about the current context.
 *  Users should not modify this object and should only pass it through.
 * 
 */

#pragma once
#ifndef ymp_Concurrency_ParallelAction_H
#define ymp_Concurrency_ParallelAction_H
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
//  Dependencies
#include "PublicLibs/Types.h"
namespace ymp{
    class ParallelContext;
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
class ParallelAction{
public:
    ParallelAction(const ParallelAction&) = delete;
    void operator=(const ParallelAction&) = delete;

    ParallelAction() = default;
    virtual ~ParallelAction() = default;

public:
    virtual void run(ParallelContext& parallel_context, upL_t index = 0) = 0;
};
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
}
#endif
